<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://www.ibm.com/favicon.ico" type="image/x-icon">
    <title>Unit 5: Creating Database Objects - Demonstration</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            background-color: #f4f4f4;
            color: #333;
            padding: 20px;
            margin: 0;
        }
        h1, h2, h3, h4 {
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h1 {
            font-size: 2em;
            color: #0f62fe; /* IBM Blue */
            border-bottom: 2px solid #0f62fe;
            padding-bottom: 10px;
        }
        h2 {
            font-size: 1.75em;
            color: #0f62fe; /* IBM Blue */
            border-bottom: 2px solid #0f62fe;
            padding-bottom: 8px;
        }
        h3 {
            font-size: 1.5em;
            color: #0f62fe; /* IBM Blue */
        }
        h4 {
            font-size: 1.25em;
            color: #0f62fe; /* IBM Blue */
        }
        .section {
            background-color: #ffffff; /* White background for sections */
            border: 1px solid #ddd; /* Light gray border for sections */
            padding: 20px; /* Increased padding for better readability */
            margin-bottom: 30px; /* Increased space below each section */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Subtle shadow for a 3D effect */
            border-radius: 8px; /* Rounded corners for the section */
        }
        .section-title {
            background-color: #0f62fe; /* IBM Blue for section title background */
            color: #fff; /* White text color for section title */
            padding: 12px; /* Increased padding for better readability */
            margin-bottom: 12px; /* Space below the section title */
            font-size: 1.25em; /* Increased font size for section title */
            font-weight: bold; /* Bold font for section title */
            border-radius: 5px; /* Rounded corners for the section title */
        }
        .content {
            margin-bottom: 20px;
        }
        ul, ol {
            padding-left: 25px; /* Increased padding for better readability */
            margin-bottom: 20px;
        }
        ul ul, ol ol {
            padding-left: 25px; /* Increased padding for better readability */
        }
        .command {
            font-family: 'IBM Plex Mono', monospace;
            background-color: #f4f4f4;
            border: 1px solid #CCCCCC;
            padding: 10px; /* Increased padding for better readability */
            display: block;
            margin: 15px 0; /* Increased margin for better separation */
            border-radius: 5px; /* Rounded corners for the command box */
        }
        .note-box, .important-box, .tip-box, .abstract-box, .summary-box, .conclusion-box {
            padding: 15px; /* Increased padding for better readability */
            margin: 15px 0; /* Increased margin for better separation */
            border-radius: 5px; /* Rounded corners for the box */
        }
        .note-box {
            background-color: #e0e0e0;
            border-left: 5px solid #0f62fe;
            font-style: italic;
        }
        .important-box {
            background-color: #fff3cd;
            border-left: 5px solid #ffecb5;
        }
        .tip-box {
            background-color: #d1ecf1;
            border-left: 5px solid #bee5eb;
        }
        .abstract-box {
            background-color: #dff9fb;
            border-left: 5px solid #c7ecee;
        }
        .summary-box {
            background-color: #e2eafc;
            border-left: 5px solid #d1dffc;
        }
        .conclusion-box {
            background-color: #f7f7f9;
            border-left: 5px solid #e1e1e3;
        }
        .footer {
            text-align: center;
            padding: 20px;
            background-color: #0f62fe;
            color: #fff;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        .page {
            position: relative;
            margin-bottom: 60px; /* Space for footer */
            border: 2px solid #0f62fe; /* IBM Blue for page border */
            padding: 20px;
            box-sizing: border-box; /* Include padding and border in element's total width and height */
            border-radius: 8px; /* Rounded corners for the page */
            background-color: #ffffff; /* White background for the page */
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            h1 {
                font-size: 1.5em;
            }
            h2 {
                font-size: 1.5em;
            }
            h3 {
                font-size: 1.25em;
            }
            h4 {
                font-size: 1em;
            }
            .section {
                padding: 15px;
            }
            .section-title {
                font-size: 1em;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div>
    <nav>
        <a href="http://courses.skunkworks.africa/ibm/cl207.html">Overview</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u01.html">Unit 1</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u02.html">Unit 2</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u03.html">Unit 3</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u04.html">Unit 4</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u05.html">Unit 5</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u06.html">Unit 6</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u07.html">Unit 7</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u08.html">Unit 8</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u09.html">Unit 9</a>
        <a href="http://courses.skunkworks.africa/ibm/cl207-u10.html">Unit 10</a>
    </nav>
    </div>    
    <header>
        <h1>Unit 5: Creating Database Objects</h1>
        <p>Demonstration 1: Creating database objects using the Data Server Manager and Db2 command line processor.</p>
    </header>

    <div class="section">
        <div class="section-title">Introduction</div>
        <div class="content">
            <div class="abstract-box">
                <p>This demonstration provides a comprehensive guide to creating database objects in the Db2 database named <strong>MUSICDB</strong>. You will learn to create tables, indexes, views, aliases, constraints, and triggers using the Data Server Manager and Db2 command line processor.</p>
            </div>
            <div class="note-box">
                <p>This process involves several critical steps and best practices to ensure effective database object management and configuration.</p>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-title">Task 1: Logon to the Linux system and start a terminal session</div>
        <div class="content">
            <div class="abstract-box">
                <p>In this task, you will log on to the Linux system, start a terminal session, and prepare to run Db2 commands.</p>
            </div>
            <ol>
                <li>
                    <strong>Logon to the Linux system</strong>:
                    <p>Logon to the Linux system using the user id <code>inst23</code>, with a password of <code>ibm2blue</code>.</p>
                    <div class="command">ssh inst23@&lt;hostname&gt;</div>
                </li>
                <li>
                    <strong>Open a Terminal Session</strong>:
                    <p>Right-click the empty Linux desktop and select <em>Open in Terminal</em>.</p>
                </li>
                <li>
                    <strong>Change to the DDL Directory</strong>:
                    <p>A set of course files are located in the directory <code>$HOME/ddl</code>. Change to this directory to make it easier to access these files that contain Db2 commands or SQL statements.</p>
                    <div class="command">cd $HOME/ddl</div>
                    <div class="command">db2 connect to musicdb</div>
                </li>
            </ol>
            <div class="important-box">
                <p>Ensure that you have the necessary permissions to access and modify the files in the <code>$HOME/ddl</code> directory.</p>
            </div>
            <div class="summary-box">
                <p>By completing this task, you have successfully logged on to the Linux system, opened a terminal session, and navigated to the directory containing the necessary files for the demonstration.</p>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-title">Task 2: Create the ALBUMS table</div>
        <div class="content">
            <div class="abstract-box">
                <p>In this task, you will create the ALBUMS table in the MUSICDB database using either the Db2 command line processor or the Data Server Manager tool.</p>
            </div>
            <h3>Option 1: Use the Db2 command line processor</h3>
            <ol>
                <li>Use the file <code>$HOME/ddl/create_table_albums.ddl</code> to create the ALBUMS table with a Primary key defined on the ITEMNO column.</li>
                <li>
                    <strong>Enter the following commands using the Linux terminal session:</strong>
                    <div class="command">db2 -tvf create_table_albums.ddl</div>
                    <div class="command">db2 describe table music.albums</div>
                </li>
            </ol>
            <div class="tip-box">
                <p>Using the command line processor allows for quick and efficient execution of SQL scripts and commands.</p>
            </div>
            <h3>Option 2: Use the Data Server Manager tool</h3>
            <ol>
                <li>Open a Firefox Browser and select <em>Bookmarks &gt; Bookmarks Toolbar &gt; Log in: IBM Data Server Manager</em> or type the following URL: <code>http://ibmclass:11080</code>.</li>
                <li>Log in using the user id <code>db2admin</code> and password <code>ibm2blue</code>.</li>
                <li>Select <em>Administer &gt; Schemas</em> and create a new schema named <strong>MUSIC</strong>.</li>
                <li>Select <em>Administer &gt; Tables</em> and create a new table named <strong>ALBUMS</strong> in the schema <strong>MUSIC</strong> with the following properties:
                    <ul>
                        <li>Table space: TSP04</li>
                        <li>Index table space: TSP05</li>
                    </ul>
                    <p>Define the columns as follows:</p>
                    <ul>
                        <li>TITLE: Varchar(50)</li>
                        <li>ARTNO: Smallint, Not Null</li>
                        <li>ITEMNO: Smallint, Not Null</li>
                    </ul>
                    <p>Define a primary key constraint on the ITEMNO column.</p>
                </li>
            </ol>
            <div class="important-box">
                <p>Ensure that all column definitions and constraints are accurately specified to avoid errors during table creation.</p>
            </div>
            <div class="summary-box">
                <p>By completing this task, you have successfully created the ALBUMS table in the MUSICDB database using either the command line processor or the Data Server Manager tool.</p>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-title">Task 3: Create a set of new tables using a SQL file</div>
        <div class="content">
            <div class="abstract-box">
                <p>In this task, you will create a group of tables in the MUSICDB database using a SQL file containing the CREATE TABLE statements.</p>
            </div>
            <h3>Option 1: Use the Db2 command line processor</h3>
            <ol>
                <li>The file <code>$HOME/ddl/create_tables.ddl</code> contains five CREATE TABLE statements.</li>
                <li>
                    <strong>Enter the following commands using the Linux terminal session:</strong>
                    <div class="command">cd $HOME/ddl</div>
                    <div class="command">db2 connect to musicdb</div>
                    <div class="command">db2 -tvf create_tables.ddl | more</div>
                    <div class="command">db2 list tables for schema music</div>
                </li>
            </ol>
            <div class="tip-box">
                <p>Using the command line processor allows for quick execution of multiple SQL statements contained in a file.</p>
            </div>
            <h3>Option 2: Use the Data Server Manager tool</h3>
            <ol>
                <li>Start DSM if not already started and select the MUSICDB database from the database list at the top. On the left, click <em>Run SQL</em>.</li>
                <li>Click <em>Script &gt; Open from Client</em>. Use the <em>Browse</em> button to locate and select the file <code>inst23/ddl/create_tables.ddl</code>.</li>
                <li>Click <em>Open</em>, then <em>OK</em> to complete loading the SQL text into the SQL editor.</li>
                <li>Click <em>Run &gt; Run All</em> and wait for the SQL statements to be processed.</li>
            </ol>
            <div class="important-box">
                <p>Ensure that all CREATE TABLE statements are correctly specified and that the necessary table spaces are available.</p>
            </div>
            <div class="summary-box">
                <p>By completing this task, you have successfully created a group of tables in the MUSICDB database using either the command line processor or the Data Server Manager tool.</p>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-title">Task 4: Create index, view, and alias objects for the application tables</div>
        <div class="content">
            <div class="abstract-box">
                <p>In this task, you will create an index on the STOCK table and use SQL statements to create view and alias objects.</p>
            </div>
            <h3>Option 1: Use the Db2 command line processor</h3>
            <ol>
                <li>
                    <strong>Enter the following commands using the Linux terminal session:</strong>
                    <div class="command">cd $HOME/ddl</div>
                    <div class="command">db2 connect to musicdb</div>
                    <div class="command">db2 -tvf create_stock_ix.ddl</div>
                    <div class="command">db2 describe indexes for table music.stock</div>
                    <div class="command">db2 -tvf create_VIEW_ALIAS.ddl</div>
                    <div class="command">db2 list tables for schema music</div>
                </li>
            </ol>
            <h3>Option 2: Use the Data Server Manager tool</h3>
            <ol>
                <li>Select <em>Administer &gt; Indexes</em> from the options on the left. Click <em>Create</em> to define a new index on the MUSIC.STOCK table.</li>
                <li>Enter the following values for the index:
                    <ul>
                        <li>Name: STOCKITEM_IX</li>
                        <li>Members: select Add, then select the ITEMNO column</li>
                    </ul>
                    <p>Click on the (+) next to the Command and click <em>Run</em>.</p>
                </li>
                <li>Click <em>Run SQL</em> from the options on the left. Clear any SQL statements from the editor, then click <em>Script &gt; Open from Client</em> and select the file <code>inst23/ddl/create_VIEW_ALIAS.ddl</code>.</li>
                <li>Click <em>Run &gt; Run All</em> to execute the SQL statements.</li>
            </ol>
            <div class="important-box">
                <p>Ensure that the SQL statements for creating views and aliases are correctly specified to avoid errors during execution.</p>
            </div>
            <div class="summary-box">
                <p>By completing this task, you have successfully created index, view, and alias objects for the application tables in the MUSICDB database.</p>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-title">Task 5: Create several table constraints and a trigger</div>
        <div class="content">
            <div class="abstract-box">
                <p>In this task, you will create foreign key constraints, check constraints, and a trigger for the tables in the MUSICDB database.</p>
            </div>
            <h3>Option 1: Use the Db2 command line processor</h3>
            <ol>
                <li>The file <code>$HOME/ddl/create_ri_cc.ddl</code> contains statements to create foreign key and check constraints.</li>
                <li>The file <code>$HOME/ddl/create_trigger.ddl</code> contains statements to create a trigger.</li>
                <li>
                    <strong>Enter the following commands using the Linux terminal session:</strong>
                    <div class="command">cd $HOME/ddl</div>
                    <div class="command">db2 connect to musicdb</div>
                    <div class="command">db2 -tvf create_ri_cc.ddl</div>
                    <div class="command">db2 -tvf create_trigger.ddl</div>
                </li>
            </ol>
            <h3>Option 2: Use the Data Server Manager tool</h3>
            <ol>
                <li>Click <em>Run SQL</em> from the options on the left. Clear any SQL statements from the editor, then click <em>Script &gt; Open from Client</em> and select the file <code>inst23/ddl/create_ri_cc.ddl</code>.</li>
                <li>Click <em>Run &gt; Run All</em> to execute the SQL statements.</li>
                <li>Repeat the steps to open and execute the file <code>inst23/ddl/create_trigger.ddl</code>.</li>
            </ol>
            <div class="important-box">
                <p>Ensure that all constraint definitions and trigger logic are correctly specified to maintain data integrity and proper functionality.</p>
            </div>
            <div class="summary-box">
                <p>By completing this task, you have successfully created the necessary table constraints and a trigger in the MUSICDB database.</p>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-title">Task 6: Use the db2look command line tool to generate the DDL statements to create database objects</div>
        <div class="content">
            <div class="abstract-box">
                <p>In this task, you will use the db2look tool to extract selected DDL statements from the MUSICDB database.</p>
            </div>
            <ol>
                <li>
                    <strong>Enter the following commands using the Linux terminal session to generate the DDL associated with the ALBUMS table and save the output in a file named ALBUMS.DDL:</strong>
                    <div class="command">cd $HOME/ddl</div>
                    <div class="command">db2look -d musicdb -e -z music -t albums -o ALBUMS.DDL</div>
                    <div class="command">more ALBUMS.DDL</div>
                </li>
            </ol>
            <div class="tip-box">
                <p>The <code>db2look</code> tool is useful for generating DDL scripts that can be used for database migration or backup purposes.</p>
            </div>
            <div class="summary-box">
                <p>By completing this task, you have successfully used the db2look tool to generate DDL statements for database objects in the MUSICDB database.</p>
            </div>
            <div class="conclusion-box">
                <p>This demonstration has provided a comprehensive guide to creating and managing database objects in the Db2 database. By following the tasks and best practices outlined, you have gained hands-on experience with various Db2 tools and commands, enhancing your database administration skills.</p>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2024 Skunkworks EdTech. All rights reserved.</p>
    </footer>
</body>
</html>
